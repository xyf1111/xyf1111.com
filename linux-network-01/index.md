# Linux Network 01

<!--more-->
## 协议的概念
### 什么是协议？
从应用的角度出发，协议可以理解为“规则”，是数据传输和数据解释的规则
### 典型协议
传输层 常见的协议有TCP/UDP协议

应用层 常见的协议有HTTP/FTP协议

网络层 常见的协议有IP/ICMP/IGMP协议

网络接口层 常见的协议有ARP/RARP协议

---

TCP传输控制协议是一种面向连接的、可靠地、基于字节流的传输层通信协议

UDP用户数据报协议是OSI参考模型中一种无连接的传输层协议，提供面向事务的简单不可靠信息传送服务

HTTP超文本传输协议是互联网上应用最广泛的一种网络协议

FTP文件传输协议

IP协议是因特网互联协议

ICMP协议是Internet控制报文协议，它是TCP/IP协议族的一个子协议，用于在IP主机、路由器之间传递控制消息

IGMP协议是Internet组管理协议，是因特网协议家族中的一个组播协议。该协议运行在主机和组播路由器之间

ARP协议是正向地址解析协议，通过已知IP寻找对应主机的MAC地址

RARP协议是反向地址转换协议，通过MAC地址确定IP地址
## 网络应用程序设计模式
### C/S模式
传统的网络应用设计模式，客户机(client)/服务器(server)模式。需要在通讯两端各自部署客户机和服务器来完成数据通信
### B/S模式
浏览器(Brower)/服务器(server)模式。只需要在一端部署服务器，而另一端使用每台PC都默认配置的浏览器即可完成数据的传输
### C/S优缺点
优点

1、协议选用灵活

2、数据可以提前缓存

缺点

1、对用户安全构成威胁

2、开发工作量较大
### B/S优缺点
优点

1、不会安装第三方软件，安全性高

2、只需要开发服务端，工作量减小

3、可以跨平台

缺点

1、需要支持HTTP协议

2、不能进行数据缓存
## 分层模型
    OSI参考模型     TCP/IP模型
      应用层--
      表示层  |->     应用层
      会话层--
      传输层          传输层
      网络层          网络层
      数据链路层-|->  网络接口层
      物理层------
### OSI七层模型
1、物理层：主要定义物理设备标准，如网线的接口类型、光纤的接口类型、各种传输介质的传输速率等。他的主要作用是传输比特流

2、数据链路层：定义了如何让格式化数据以帧为单位进行传输，以及如何让控制对物理介质访问。这一层通常还提供错误检测和纠正，以确保数据的可靠传输

3、网络层：在位于不同地理位置的网络中的两个主机系统之间提供链接和路径选择。Internet的发展使得从世界各站点访问信息的用户数大大增加，而网络层正是管理这种连接的层

4、传输层：定义了一些传输数据的协议和端口号(www端口80等)，如：TCP(传输控制协议，传输效率低，可靠性强，用于传输可靠性要求高，数据量大的数据)，UDP(用户数据报协议，与TCP特性恰恰相反，用于传输可靠性要求不高，数据量小的数据，如QQ聊天数据就是通过这种方式传输的)。主要是将下层接受的数据进行分段和传输，达到目的地址后再进行重组，常常把这一层数据叫做段。

5、会话层：通过传输层(端口号：传输端口与接收端口)建立数据传输的通路。主要在你的系统之间发起会话或者接受会话请求(设备之间需要互相认识可以是IP也可以是MAC或者是主机名)。

6、表示层：可确保一个系统的应用层所发送的信息可以被另一个系统的应用读取。如：PC程序与另一台计算机进行通信，其中一台计算机使用扩展二一十进制交换码(EBCDIC)，而另一台则使用美国信息交换标准码(ASCII)来表示相同字符，如有必要，表示层会通过使用一种通格式来实现多种数据格式之间的转换。

7、应用层：是最靠近用户的OSI层，这一层为用户的应用程序(例如电子邮件、文件传输和终端仿真)提供网络服务
### TCP/IP四层模型
TCP/IP网络协议栈分为应用层、传输层、网络层、链路层四层

其中应用层典型的是FTP协议，传输层典型的是TCP或UDP协议，网络层典型的是IP协议，链路层典型的是以太网帧协议
![TCP/IP模型](/images/tcpip-model.png "TCP/IP模型")
## 通信过程
![通信过程](/images/Communication-process.png "通信过程")
## 协议格式
### 数据包封装
![TCP/IP数据包封装](/images/tcpip-packaging.png "数据包封装")

